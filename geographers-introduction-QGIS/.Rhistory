setwd("C:/Users/nick/Documents/GIS/sdi-data")
library(sf)
library(tmap)
africa <- st_read("African_countries.shp")
health <- st_read("Health_districts.shp")
#qtm(africa)
qtm(health)
qtm(africa)
qtm(health)
tmap_options(check.and.fix = TRUE)
qtm(health)
health <- st_read("Health_districts-2.shp")
health <- st_read("Health_districts.shp")
health <- st_read("Health_districts.shp")
health <- st_read("Health_districts.shp")
knitr::opts_knit$set(root.dir = 'C:/Users/nick/Documents/GIS/sdi-data')
#load library
library(sf)
library(tmap)
#read the two shapefiles in
africa <- st_read("African_countries.shp")
health <- st_read("Health_districts.shp")
qtm(africa)
qtm(health)
#load library
library(sf)
library(tmap)
#read the two shapefiles in
africa <- st_read("African_countries.shp")
setwd("C:/Users/nick/Documents/GIS/sdi-data")
library(sf)
library(tmap)
africa <- st_read("African_countries.shp")
setwd("C:/Users/nick/Documents/GIS/sdi-data")
africa <- st_read("African_countries.shp")
health <- st_read("Health_districts.shp")
qtm(africa)
qtm(health)
qtm(health)
health <- st_read("Health_districts.shp")
# qtm(africa) #commented out as takes a bit of time to display
qtm(health)
health <- st_read("Health_districts.shp")
# qtm(africa) #commented out as takes a bit of time to display
qtm(health)
health <- st_read("Health_districts.shp")
# qtm(africa) #commented out as takes a bit of time to display
qtm(health)
health <- st_read("Health_districts.shp")
# qtm(africa) #commented out as takes a bit of time to display
qtm(health)
health <- st_read("Health_districts.shp")
health <- st_read("Health_districts.shp")
# qtm(africa) #commented out as takes a bit of time to display
qtm(health)
health <- st_read("Health_districts.shp")
# qtm(africa) #commented out as takes a bit of time to display
qtm(health)
tmap_options(check.and.fix = TRUE)
# qtm(africa) #commented out as takes a bit of time to display
qtm(health)
sf::st_is_valid(health)
which(sf::st_is_valid(health)) == FALSE
which(sf::st_is_valid(health),FALSE
)
afriva_V <- health
valid <- st_is_valid(africa_v)
africa_v <- health
valid <- st_is_valid(africa_v)
tmp <- st_buffer(africa_v[!is.na(valid)], 0.0)
valid
tmp <- st_buffer(africa_v[!is.na(valid)], 0.0)
tmp <- st_buffer(africa_v, 0.0)
health <- st_read("Health_districts.shp")
# qtm(africa) #commented out as takes a bit of time to display
qtm(health)
health <- st_read("Health_districts2.shp")
# qtm(africa) #commented out as takes a bit of time to display
qtm(health)
health <- st_read("Health_districts3.shp")
# qtm(africa) #commented out as takes a bit of time to display
qtm(health)
st_write(health, "Health_districts4.shp")
health <- st_read("Health_districts4.shp")
# qtm(africa) #commented out as takes a bit of time to display
qtm(health)
st_is_valid(health)
st_is_valid(health)[11]
st_is_valid(health)[31]
health[31]
health[31,]
tmp <- st_buffer(health, 0.0)
table(st_is_valid(health, reason = TRUE))
africa_b3 <- st_make_valid(health)
qtm(africa_b3)
st_write(africa, "Health_districts5.shp")
st_write(africa_b3, "Health_districts5.shp")
health <- st_read("Health_districts5.shp")
# qtm(africa) #commented out as takes a bit of time to display
qtm(health)
st_write(africa_b3, "Health_districts.shp")
africa <- st_read("African_countries.shp")
health <- st_read("Health_districts5.shp")
setwd("C:/Users/nick/Documents/GIS/sdi-data")
health <- st_read("Health_districts.shp")
setwd("C:/Users/nick/Documents/GIS/sdi-data")
library(sf)
library(tmap)
africa <- st_read("African_countries.shp")
health <- st_read("Health_districts.shp")
# qtm(africa) #commented out as takes a bit of time to display
qtm(health)
health <- st_read("Health_districts.shp")
health <- st_read("Health_districts.shp")
# qtm(africa) #commented out as takes a bit of time to display
qtm(health)
health <- st_read("Health_districts.shp")
# qtm(africa) #commented out as takes a bit of time to display
qtm(health)
